---
phase: 10-layout-system
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/SplitLayout.tsx
  - src/components/layout/DrawerLayout.tsx
autonomous: true

must_haves:
  truths:
    - "Split view shows 30/70 ratio between parameters and results"
    - "Mobile drawer slides up from bottom with visible handle"
    - "Drawer can be opened and closed"
  artifacts:
    - path: "src/components/layout/SplitLayout.tsx"
      provides: "Split view layout wrapper"
      exports: ["SplitLayout"]
    - path: "src/components/layout/DrawerLayout.tsx"
      provides: "Mobile drawer layout wrapper"
      exports: ["DrawerLayout"]
  key_links:
    - from: "src/components/layout/DrawerLayout.tsx"
      to: "isOpen prop"
      via: "controlled open/close state"
      pattern: "isOpen.*boolean"
---

<objective>
Create the Split View and Mobile Drawer layout components. Split view provides a vertical split with 30/70 ratio. Drawer provides a mobile-optimized bottom sheet pattern.

Purpose: These layouts implement LAYOUT-04 (split view) and LAYOUT-05 (collapsible drawer) requirements.

Output: Two layout components ready for integration. Drawer includes open/close state management.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/10-layout-system/10-CONTEXT.md
@.planning/phases/10-layout-system/10-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SplitLayout Component</name>
  <files>src/components/layout/SplitLayout.tsx</files>
  <action>
Create a split view layout component with 30/70 ratio between parameters and results.

**Props:**
```typescript
interface SplitLayoutProps {
  parameters: React.ReactNode
  results: React.ReactNode
  className?: string
}
```

**Layout structure:**
- Flexbox row layout (same as sidebar but different widths)
- Parameters panel: 30% width, border-right, overflow-y-auto
- Results panel: 70% width (flex-1), overflow-y-auto

**Tailwind classes:**
```
Container: flex flex-row min-h-0
Parameters: w-[30%] shrink-0 border-r border-gray-200 overflow-y-auto p-4
Results: flex-1 overflow-y-auto p-4
```

**Decisions honored (from CONTEXT.md):**
- 30/70 ratio (parameters get 30%, results get 70%)
- Vertical split (row layout = vertical divider)
  </action>
  <verify>
File exists: `ls src/components/layout/SplitLayout.tsx`
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
SplitLayout component provides 30/70 vertical split between parameters and results.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create DrawerLayout Component</name>
  <files>src/components/layout/DrawerLayout.tsx</files>
  <action>
Create a mobile drawer component that slides up from the bottom.

**Props:**
```typescript
interface DrawerLayoutProps {
  parameters: React.ReactNode
  results: React.ReactNode
  isOpen: boolean
  onOpenChange: (open: boolean) => void
  className?: string
}
```

**Structure:**
1. Results are always visible as the main content
2. Drawer overlay/backdrop when open (fixed inset, bg-black/50)
3. Drawer panel slides up from bottom with CSS transform

**Drawer panel structure:**
- Fixed positioning at bottom
- Rounded top corners (rounded-t-xl)
- Visible drag handle at top (w-12 h-1.5 bg-gray-300 rounded-full, centered)
- Content area with overflow-y-auto
- Max height ~60vh (can adjust)

**Animation (from CONTEXT.md and RESEARCH.md):**
- Use transform translate-y for 60fps animation
- Open: translate-y-0
- Closed: translate-y-full
- Transition: duration-200 ease-out

**Backdrop:**
- Fixed inset-0, bg-black/50
- Transition opacity (opacity-0 when closed, opacity-100 when open)
- pointer-events-none when closed
- Click backdrop to close drawer

**Handle interaction:**
- Clicking the handle area toggles drawer
- For now, skip swipe gestures (react-swipeable is optional per research)

**CSS transforms (GPU-accelerated):**
```
Backdrop: fixed inset-0 bg-black/50 transition-opacity duration-200
  Open: opacity-100
  Closed: opacity-0 pointer-events-none

Drawer: fixed bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg
        transition-transform duration-200 ease-out
  Open: translate-y-0
  Closed: translate-y-full
```

**Body scroll lock:**
When drawer is open, add overflow-hidden to document.body to prevent background scrolling. Use useEffect to add/remove class.
  </action>
  <verify>
File exists: `ls src/components/layout/DrawerLayout.tsx`
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>
DrawerLayout component slides up from bottom with handle, backdrop, and smooth CSS transitions.
  </done>
</task>

</tasks>

<verification>
1. Both files exist in src/components/layout/
2. TypeScript compiles: `npx tsc --noEmit`
3. SplitLayout uses w-[30%] for parameters
4. DrawerLayout uses translate-y for animation (not height/margin)
5. DrawerLayout includes body scroll lock when open
</verification>

<success_criteria>
- SplitLayout.tsx exports component with 30/70 split
- DrawerLayout.tsx exports component with isOpen/onOpenChange props
- Drawer uses CSS transforms for 60fps animation
- Drawer includes visible handle and backdrop
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/10-layout-system/10-03-SUMMARY.md`
</output>
