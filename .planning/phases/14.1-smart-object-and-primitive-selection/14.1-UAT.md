---
status: complete
phase: 14.1-smart-object-and-primitive-selection
source: [14.1-01-SUMMARY.md, 14.1-02-SUMMARY.md]
started: 2026-02-08T22:00:00Z
updated: 2026-02-08T22:10:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Profile object renders as hero
expected: Object with name + 2+ contact fields (email, phone, address) auto-selects hero layout instead of detail view. You should see a profile-like card with the name prominently displayed.
result: issue
reported: "jsonplaceholder.typicode.com/users/1 renders as Detail, not Hero/Profile. The user object has name + email + phone + address (3+ contact fields) but the root object at path $ is skipped for object analysis. Component switcher confirms Profile is available as a manual option."
severity: major

### 2. Complex nested object renders as tabs
expected: Object with 3+ nested objects/arrays auto-selects tabs layout instead of detail. Each nested structure appears as a separate tab rather than inline.
result: issue
reported: "dummyjson.com/products/1 renders as Detail, not Tabs. The product object has 5 nested structures (tags, dimensions, reviews, meta, images) exceeding the 3+ threshold, but root $ path is skipped for object analysis."
severity: major

### 3. Short string array renders as chips
expected: A primitive array of short strings (like tags: ["electronics", "sale", "new"]) renders as colored chip/pill elements instead of a plain list.
result: pass
notes: "dummyjson.com/products/1 tags array ['beauty', 'mascara'] renders as Tags (chips) automatically. Smart default correctly triggered for root-level primitive arrays."

### 4. Long string array stays as list
expected: A primitive array with long string values (avg >20 chars) or more than 10 items keeps the default primitive-list rendering, not chips.
result: pass
notes: "dummyjson.com/products/1 images array (URLs) correctly stays as Bullet List. Long URL strings not misidentified as chips."

### 5. Component switcher still works for objects
expected: Even when smart defaults apply (e.g., hero for profile), clicking the component switcher badge still lets you manually switch between detail/hero/tabs/split/json. User override takes precedence.
result: pass
notes: "Manually switching /users/1 from Detail to Profile works correctly. Hero layout renders with 'Leanne Graham' as heading. All options (Detail, Profile, Tabs, Split, JSON) available."

### 6. Non-matching objects fall back to detail
expected: Objects without clear profile/complex/split patterns (e.g., a simple {id, value} object) render as the default detail view, same as before Phase 14.1.
result: pass
notes: "Nested Address object within /users/1 correctly shows Detail. Nested Dimensions object within /products/1 correctly shows Detail. Simple objects without matching patterns fall back properly."

## Summary

total: 6
passed: 4
issues: 2
pending: 0
skipped: 0

## Gaps

- truth: "Objects with profile-like semantics (name + email/phone/address) default to hero instead of detail"
  status: failed
  reason: "Root object at path $ is skipped for object analysis in useSchemaAnalysis.ts. APIs returning a single object (e.g., /users/1) never get smart component selection."
  severity: major
  test: 1
  root_cause: "findAnalyzablePaths in useSchemaAnalysis.ts skips root path $ for object analysis (design decision: 'avoid wrapper object'). But single-object APIs ARE the meaningful entity."
  artifacts:
    - path: "src/hooks/useSchemaAnalysis.ts"
      issue: "Root $ object excluded from object analysis in findAnalyzablePaths"
  missing:
    - "Analyze root $ when it's a non-wrapper object (has contact/profile-like fields, or has 3+ nested structures)"
  debug_session: ""

- truth: "Objects with many nested objects/arrays default to tabs instead of detail"
  status: failed
  reason: "Root object at path $ is skipped for object analysis. Product object at /products/1 has 5 nested structures but renders as Detail."
  severity: major
  test: 2
  root_cause: "Same root cause as Test 1: findAnalyzablePaths skips root $ for object analysis"
  artifacts:
    - path: "src/hooks/useSchemaAnalysis.ts"
      issue: "Root $ object excluded from object analysis in findAnalyzablePaths"
  missing:
    - "Remove or relax the root $ skip for object analysis"
  debug_session: ""
