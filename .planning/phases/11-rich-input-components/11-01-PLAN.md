---
phase: 11-rich-input-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/calendar.tsx
  - src/components/ui/popover.tsx
  - src/components/ui/input.tsx
  - src/components/ui/button.tsx
  - src/components/ui/badge.tsx
  - src/components/ui/slider.tsx
  - src/components/ui/sonner.tsx
  - src/lib/utils.ts
  - components.json
  - tsconfig.app.json
  - tailwind.config.ts
autonomous: true

must_haves:
  truths:
    - "shadcn/ui CLI initialization completes without errors"
    - "All specified components (Calendar, Popover, Input, Button, Badge, Slider, Sonner) are available for import"
    - "Path alias @/ resolves correctly in imports"
  artifacts:
    - path: "src/components/ui/calendar.tsx"
      provides: "Calendar component from shadcn/ui"
    - path: "src/components/ui/popover.tsx"
      provides: "Popover component for date picker"
    - path: "src/components/ui/badge.tsx"
      provides: "Badge component for chips"
    - path: "src/components/ui/slider.tsx"
      provides: "Slider component for numeric ranges"
    - path: "src/components/ui/sonner.tsx"
      provides: "Toaster component for notifications"
    - path: "src/lib/utils.ts"
      provides: "cn() utility for class merging"
    - path: "components.json"
      provides: "shadcn/ui configuration"
  key_links:
    - from: "src/lib/utils.ts"
      to: "clsx + tailwind-merge"
      via: "cn() function"
      pattern: "clsx.*tailwind-merge"
---

<objective>
Initialize shadcn/ui component library with required components for Phase 11

Purpose: Establish the component foundation that all rich input components will build on. shadcn/ui provides accessible, customizable components built on Radix UI primitives.

Output: Fully configured shadcn/ui with Calendar, Popover, Input, Button, Badge, Slider, and Sonner components ready for use.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-rich-input-components/11-CONTEXT.md
@.planning/phases/11-rich-input-components/11-RESEARCH.md
@tsconfig.app.json
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize shadcn/ui and configure path aliases</name>
  <files>
    components.json
    tsconfig.app.json
    tailwind.config.ts
    src/lib/utils.ts
  </files>
  <action>
1. Run `npx shadcn@latest init` and configure:
   - Style: Default
   - Base color: Slate (matches existing gray theme)
   - CSS variables: Yes
   - Tailwind config: tailwind.config.ts
   - Components path: src/components/ui
   - Utils path: src/lib/utils
   - React Server Components: No (this is Vite, not Next.js)

2. Add path alias to tsconfig.app.json:
   ```json
   "paths": {
     "@/*": ["./src/*"]
   },
   "baseUrl": "."
   ```

3. Add path alias resolution to vite.config.ts if not already present:
   ```typescript
   resolve: {
     alias: {
       "@": path.resolve(__dirname, "./src"),
     },
   },
   ```

4. Verify src/lib/utils.ts was created with cn() function using clsx and tailwind-merge.

Note: The init command will install clsx and tailwind-merge as dependencies. Let it do so.
  </action>
  <verify>
- `cat components.json` shows shadcn/ui configuration
- `cat src/lib/utils.ts` shows cn() function
- `grep "paths" tsconfig.app.json` shows @/* alias
- `npm run build` succeeds (path aliases resolve)
  </verify>
  <done>
shadcn/ui initialized with path aliases configured and cn() utility available
  </done>
</task>

<task type="auto">
  <name>Task 2: Add required shadcn/ui components</name>
  <files>
    src/components/ui/calendar.tsx
    src/components/ui/popover.tsx
    src/components/ui/input.tsx
    src/components/ui/button.tsx
    src/components/ui/badge.tsx
    src/components/ui/slider.tsx
    src/components/ui/sonner.tsx
  </files>
  <action>
Run shadcn CLI to add each component:

```bash
npx shadcn@latest add calendar
npx shadcn@latest add popover
npx shadcn@latest add input
npx shadcn@latest add button
npx shadcn@latest add badge
npx shadcn@latest add slider
npx shadcn@latest add sonner
```

This will:
- Install react-day-picker (for Calendar)
- Install date-fns (for date formatting)
- Install sonner (for toasts)
- Install @radix-ui/react-* packages as needed
- Create component files in src/components/ui/

Note: Some components may have dependencies on others (e.g., Calendar may need Button). The CLI handles this automatically.

After adding, verify each component file exists and exports correctly.
  </action>
  <verify>
- `ls src/components/ui/` shows all 7 component files
- `grep "export" src/components/ui/calendar.tsx` shows Calendar export
- `grep "export" src/components/ui/badge.tsx` shows Badge export
- `grep "react-day-picker" package.json` confirms dependency installed
- `grep "sonner" package.json` confirms dependency installed
- `npm run build` succeeds
  </verify>
  <done>
All shadcn/ui components installed: Calendar, Popover, Input, Button, Badge, Slider, Sonner
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify component imports work</name>
  <files>
    src/components/ui/index.ts
  </files>
  <action>
Create a barrel export file at src/components/ui/index.ts for convenient imports:

```typescript
export { Calendar } from './calendar'
export { Popover, PopoverContent, PopoverTrigger } from './popover'
export { Input } from './input'
export { Button, buttonVariants } from './button'
export { Badge, badgeVariants } from './badge'
export { Slider } from './slider'
export { Toaster } from './sonner'
```

Then create a simple smoke test by temporarily adding an import to App.tsx (or a test file) to verify path alias works:

```typescript
import { Badge } from '@/components/ui/badge'
```

Run `npm run build` to confirm TypeScript resolves the path alias correctly.

If build fails due to path alias issues:
1. Check vite.config.ts has the resolve.alias configuration
2. Ensure tsconfig.app.json has both "baseUrl" and "paths" set correctly
3. Restart the TypeScript server if using an IDE
  </action>
  <verify>
- `cat src/components/ui/index.ts` shows barrel exports
- `npm run build` succeeds with no path resolution errors
- `npm run dev` starts without errors
  </verify>
  <done>
All shadcn/ui components importable via @/components/ui path alias
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Run `npm run build` - should succeed
2. Run `npm run dev` - app should start
3. Verify these files exist:
   - src/components/ui/calendar.tsx
   - src/components/ui/popover.tsx
   - src/components/ui/input.tsx
   - src/components/ui/button.tsx
   - src/components/ui/badge.tsx
   - src/components/ui/slider.tsx
   - src/components/ui/sonner.tsx
   - src/lib/utils.ts
   - components.json
4. Verify package.json has new dependencies: react-day-picker, date-fns, sonner, clsx, tailwind-merge
</verification>

<success_criteria>
- shadcn/ui initialization complete
- 7 components available for import
- Path alias @/ works in imports
- Build succeeds
- No runtime errors on dev server start
</success_criteria>

<output>
After completion, create `.planning/phases/11-rich-input-components/11-01-SUMMARY.md`
</output>
